<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>全部文件</title>
    <link rel="stylesheet" href="../layui/css/layui.css">
</head>
<body>
<div class="layui-form-search">
<form class="layui-form">
    <div class="layui-form-item">
        <label class="layui-form-label">部门:</label>
        <div class="layui-input-inline">
            <select name="dept" id="departsearch" lay-filter="departsearch">
            </select>
        </div>
        <label class="layui-form-label">类型:</label>
        <div class="layui-input-inline">
            <select name="operationStyle" id="operationStyle">
                <option value="0">请选择</option>

                <!--1添加文档 2删除文档  3更改文档 4 查阅文档 5下载附件-->
            </select>
        </div>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <button class="layui-btn" lay-submit lay-filter="entrysearch">查询</button>
    </div>
</form>
</div>
<div class="layui-table-inductionlist">
    <table class="layui-hide" id="allfile" lay-filter="indmanage"></table>
</div>

<script src="../layui/layui.js"></script>
<script src="../js/jquery-1.8.3.min.js"></script>
<script>

    layui.use(['table', 'form', 'laydate','laypage', 'layer','laytpl'], function () {
        var table = layui.table,
            form = layui.form,
            laypage=layui.laypage;
            laytpl = layui.laytpl,
            layer = layui.layer;


        var entrytableins = table.render({
            elem: '#allfile',
//            where: {"date1": $("#inducdate1").val(), "date2": $("#inducdate2").val()},
            url: '../show/allFile',
            cols: [[
                  {field: 'title', title: '标题',  event: 'setSign',width: 600}
                , {field: 'addFileTime', title: '上传时间', event: 'setSign', width: 600,sort:true}
                , {field: 'username', title: '上传人',  event: 'setSign',width:600}
            ]]
            , page: true
            , height: 750,
            id: 'indmanage'
        });
        laypage.render({
            elem: 'demo1'
            ,count: 10 //数据总数
            ,jump: function(obj){
                console.log(obj)
            }
        });
        // 监听搜索按钮提交
        form.on('submit(entrysearch)', function (data) {
            entrytableins.reload({
                where: data.field
            });
            console.log(data.field);

            return false;
        })
        form.render();

    }) ;
</script>

</body>
</html>