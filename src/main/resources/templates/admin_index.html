<!DOCTYPE html>
<html  lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <title>管理员首页</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="../layui/css/layui.css" media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>
<body>


<div class="layui-tab" style="margin-top: 100px">
    <ul class="layui-tab-title">
        <li class="layui-this" type="1" >今日</li>
        <li type="2">本周</li>
        <li type="3">本月</li>
    </ul>
    <div class="layui-row layui-col-space20">
        <div class="layui-col-md6">
            <div class="chartcard">
                <div id="changechart" style="width:100%;height:500px;"></div>
            </div>
        </div>

    </div>
</div>

</div>
</div>
<script src="../layui/layui.js" charset="utf-8"></script>
<script src="../js/thirdParty/echarts.min.js" charset="utf-8"></script>
<script src="../js/jquery-1.8.3.min.js"></script>
<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>
    layui.use('element',  function () {
        var $ = layui.jquery
            , element = layui.element; //Tab的切换功能，切换事件监听等，需要依赖element模块
        //触发事件
        $('.site-demo-active').on('click', function () {
            var othis = $(this), type = othis.data('type');
            active[type] ? active[type].call(this, othis) : '';
        });
        //Hash地址的定位
        var layid = location.hash.replace(/^#test=/, '');
        element.tabChange('test', layid);
        element.on('tab(test)', function (elem) {
            location.hash = 'test=' + $(this).attr('lay-id');
        });
    });
    // echarts图表初始化
    var workerchangeChart = echarts.init(document.getElementById('changechart'));
    function loadchartdata(params, url) {
        $.get('../show/daydata.htmls', params, function (result) {
            var data = result.data;
            var data2 = [];
            data2.push({
                value: data.addpcs,
                name: '上传'
            })
            data2.push({
                value: data.updatepcs,
                name: '修改'
            })
            data2.push({
                value: data.deletepcs,
                name: '删除'
            })
            workerchangeChart.setOption({
                series: [{
                    name: '次数',
                    data: data2
                }]
            })
        });
    }
    loadchartdata({});
</script>

</body>
</html>